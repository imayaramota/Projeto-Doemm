<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doem | Index </title>
    <link rel="stylesheet" href="./css/style.css">
    
    <script src="./js/funcoes.js"></script>

    <link rel="shortcut icon" href="./images/image 4.png" type="image/x-icon">
    
    <link rel = "preconnect" href = "https://fonts.googleapis.com">
    <link rel = "preconnect" href = "https://fonts.gstatic.com" crossorigin>

    <link href = "https://fonts.googleapis.com/css2?family=Chivo:wght@300&display=swap" rel ="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 

</head>
<body>
    <div class="header">
        <div class="container">
            <img src="./images/image 3.png " alt="imagem logo " class="imagelogo">
            <ul class="navbar">
                <li class="selecionado"> HOME </li>
                <li> <a href="./instituicoes.html"> INSTITUIÇÕES </a> </li>
                <li> <a href="./cadastro.html"> <button onclick="cadastre()" class="btn_cadastre"> CADASTRE-SE </button></a></li>
                <li> <a href="./login.html"> LOGIN </a></li>
            </ul>
        </div> 
    </div>

    <div class="index_body">
        <div class="banner_index">
            <div class="container_carrosel" id="img">
                <img src="images/ACA8DB33-BD7E-40B6-B31A-91F6C2A4262F.JPG" alt="imagm crianças">
                <img src="images/C2E897A4-4E13-42A4-AA1A-A3B17E7B63E1.JPG" alt="imagm crianças">
                <img src="images/IMG-7479.jpg" alt="imagm crianças">
                <img src="https://cdn.v2v.net/600x315/54078c5e-a097-4154-bbd7-59d4fbcda367.jpg?v=63734838666" alt="imagm crianças">
                <img src="images/49D0DE0D-C6F4-4CCE-AD2F-8A6F10E55E18.JPG" alt="imagm crianças">
                <img src="https://yrizaceinveoniyaninusge.i-mpr.com/0=MmMiVmY1ojci5SbvNmLvRWY6lGbhJ2bsdGQz9Gdh1mLu9GdsVmOwkTN5ITMzATNzozZlBnauUzN5kjNyIWY2MjYlNmMmNmZ3ADO4kjMzkDM2gDOmJmZGJTJmJmZGJTJzUjNxYkMlQTN2ETMf1SNx0yXt92YuIHct1SaGJTJGJTJBNTJwRHdopTM" alt="imagem crianças">
                <img src="https://www.believenews.com.br/wp-content/uploads/2019/11/larm-rmah-AEaTUnvneik-unsplash-1210x642.jpg" alt="imagm crianças">

                <!-- <img src="images/4ACB7A80-C3CD-494C-888D-4BD3EA7BC91D.JPG" alt="imagm crianças">
                <img src="images/E62D7718-CEAF-43F1-8EAC-04BD9994E527.JPG" alt="imagm crianças"> -->
                <img src="https://yrizaceinveoniyaninusge.i-mpr.com/0=MmMiVmY1ojci5SbvNmLvRWY6lGbhJ2bsdGQz9Gdh1mLu9GdsVmOwkTN5ITMzATNzozZlBnauUzN5kjNyIWY2MjYlNmMmNmZ3ADO4kjMzkDM2gDOmJmZGJTJmJmZGJTJzUjNxYkMlQTN2ETMf1SNx0yXt92YuIHct1SaGJTJGJTJBNTJwRHdopTM" alt="imagem crianças">
               
            </div>
         </div>
    </div>
    <div class="banner_text">
        <h1 class="titulo_index">O QUE É A DOEM?</h1>
        <p class="text">A DOEM é uma e empresa sem fins lucrativos criada para auxiliar doadores e automatizar a gestão de ONGS que sobrevivem de doações.
             Com a DOEM você realiza doações e consegue ver para aonde a sua doação está sendo direcionada, tudo diretamente pela plataforma.
        </p>


        <h3 class="subtitulo01">Qual a importancia da doação?</h3> 
        <p class="text">Talvez para você doador R$ 1.00, 50.00 ou até mais que isso não seja nada, mas para crianças que muitas vezes não possui o basico para 
            sua propria higiene, alimentação e/ou até mesmo para se vestir tendo muitas vezes que passar frio, a sua doação muitas vezes salva a 
            vida deles. As doações auxiliam as Instituições a sempre terem  um  espaço agradavel e desejavel de se estar, além da importancia para 
            cuidados basicos a  doacao auxilia na demostracao de carinho, amor, pertencentes de algum lugar entre outras diversas coisas.
            Seja um doador, mude a vida de inumeras criancas com o valor que você puder, faça parte de um projeto que prioriza e valoria 
            crianças carentes e que são muito amadas e importantes para as Instituções e seus volunatrios.
        </p>

            <h3 class="subtitulo01"> Valor da doações arrecadas por mês:</h3> 
           <center>
            <div class="graph">
                <canvas id="myChartBar" width="100%" height="40%"></canvas> 
            </div>
           </center>
           
        
        <h3 class="subtitulo02">MUDE AGORA A VIDA DE ALGUÉM!</h3>
        <a href="./cadastro.html"><button onclick="doar_agora()">DOAR, AGORA!</button></a>
    </div>
   
    <div class="footer">
        <div class="container">
            <span>Todos os direitos reservados a DOEM ©2021 </span>
            <div class="div_img_footer">
                <img src="./images/instagram.png" alt="logo instagram" >
                <img src="./images/logotipo-do-aplicativo-do-facebook.png" alt="logo facebook" >
                <img src="./images/whatsapp (1).png" alt="logo WhatsApp" >
                <img src="./images/twitter.png " alt="logo twitter" >
                <img src="./images/logotipo-do-linkedin.png" alt="logo linkedIn" >
            </div>
        </div>
    </div>

</body>
</html>
<script>
    const imgs = document.getElementById("img");
    const img = document.querySelectorAll("#img img");

    let idx = 0;

    function carrosel(){
        idx++;

        if (idx > img.length - 1) {
            idx = 0;
        }

        imgs.style.transform = `translateX(${-idx * 500}px)`;
    }

    setInterval(carrosel, 1800)


    var dados = {
          labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Maio', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'], /*legendas do grafico*/
          datasets: [
              {
              label: 'Doações por Mês R$', /*titulo*/
              data: [0,0, 0,0,0,0,0,0,0,0,0,0], /*inseri aqui os numeros do nosso alerts */ /*isso é um vetor =  lugar aonde tem varias variavies*/
              backgroundColor: [
                  '#A8E6CF', /*r=red, g=green, b=blue, a=opacidade */
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF',
                  '#A8E6CF'
              ],
              borderColor: [
                  '#FFAAA7', /*r=red, g=green, b=blue, a=opacidade */
                  '#D3BEDD',
                  '#FFAAA7',
                  '#D3BEDD',
                  '#FFAAA7',
                  '#D3BEDD',
                  '#FFAAA7',
                  '#D3BEDD',
                  '#FFAAA7',
                  '#D3BEDD',
                  '#FFAAA7',
                  '#D3BEDD',
              ],
              borderWidth: 3
          }
        ]
      }

    fetch('/dashboard/listar',{
        method:'GET'
    }).then(function (resposta) {
        if (resposta.ok == true) {
            resposta.json().then(function(json) {

                json.forEach(data => {
                    console.log('data',data)
                    if(data.mes == 1){
                        dados.datasets[0].data[0] =  Number(data.contagem).toFixed(2);
                    } 
                    if(data.mes == 2){
                        dados.datasets[0].data[1] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 3){
                        dados.datasets[0].data[2] = Number(data.contagem).toFixed(2);
                    }
                    if(data.mes == 4){
                        dados.datasets[0].data[3] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 5){
                        dados.datasets[0].data[4] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 6){
                        dados.datasets[0].data[5] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 7){
                        dados.datasets[0].data[6] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 8){
                        dados.datasets[0].data[7] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 9){
                        dados.datasets[0].data[8] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 10){
                        dados.datasets[0].data[9] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 11){
                        dados.datasets[0].data[10] = Number(data.contagem).toFixed(2); 
                    }
                    if(data.mes == 12){
                        dados.datasets[0].data[11] = Number(data.contagem).toFixed(2); 
                    }
                    
                });

                rendGraph()
            })
        }
    })
    function rendGraph(){
        var ctx = document.getElementById('myChartBar').getContext('2d'); /*pega o elemento com id Bar*/
        var myChartBar = new Chart(ctx, { /*pegeui  um novo grafico*/
            type: 'bar', /*tipo barra*/
            data: dados,
            options: {
              maintainAspectRatio: false, /*isso diz para ele alterar so o width ou so o height, se ficar true ele altera os dois*/
                scales: {
                    y: {
                        beginAtZero: true /*grafico começa do zero*/
                    }
                }
            }
        });
    }

</script>